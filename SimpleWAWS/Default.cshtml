@{
    Layout = "~/_Layout.cshtml";
    Page.Title = "Try It Now";
}

<section class="wa-section wa-section-blue wa-section-mini wa-section-compute">
    <div class="wa-content">
        <div class="wa-spacer-9down">
            <h1>Create your website</h1>
            <h3>High throughput, low latency data access to power fast, scalable Azure applications.</h3>
        </div>
    </div>
</section>
<section class="wa-section">
    <div class="wa-content wa-content-4up">
        <h2>1) Select a template and create your web application</h2>
        <div>
            <label for="wa-dropdown-language">Change language:</label>
            <div class="wa-dropdown-container wa-dropdown-medium">
                <select id="wa-dropdown-language" class="wa-dropdown" data-bind="foreach: languages">
                    <option class="" data-bind="text: $data, attr: {value: $data}, click: function(data, event) {$root.selectLanguage(event);}"></option>
                </select>
                <span class="wa-dropdown-value" data-bind="text: selectedLanguage()"></span>
                <span class="wa-dropdown-arrow"></span>
            </div>
        </div>
        <br/>
        <br/>
        <div data-bind="foreach: templates">
            <!-- ko if: $root.selectedLanguage() === $data.language -->
            <div class="website-template-container">
                <a href="#" data-bind="click: function(data, event) {data.select(event);}">
                    <img src="Content/images/Large.png">
                    <div class="website-template-name" data-bind="text: $data.name"></div>
                </a>
            </div>
            <!-- /ko -->
        </div>
        <br />
        <br />
        <div style="display: inline-block">
            <a id="create-site" href="#" class="wa-button wa-button-primary">Create</a>
        </div>
        <div class="spinner">
            <i id="loading" class="fa fa-spinner fa-spin" title="Please wait" style="display: none"></i>
        </div>
    </div>
    <div class="wa-content wa-content-4up wa-content-divided">
        <h2>2) Work with your web application</h2>
        <!-- ko if: siteJson() !== undefined -->
        <div data-bind="with: siteJson">
            <h3 data-bind="if: url !== undefined, visible: true" style="display: none">
                Your site has been created at <a data-bind="attr: {href: url}, text: url" target="_blank"></a>
            </h3>
            <div class="work-with-site-tools">
                <a data-bind="attr: {href: monacoUrl}" target="_blank"><img class="work-with-site-tools-img" src="Content/images/VSO.png" /><div class="website-template-name">Edit with VSO</div></a>
            </div>
            <div class="work-with-site-tools">
                <a data-bind="attr: {href: contentDownloadUrl}" target="_blank"><img class="work-with-site-tools-img" src="Content/images/DownloadSite.png" /><div class="website-template-name">Download site content</div></a>
            </div>
            <div class="work-with-site-tools">
                <a data-bind="attr: {href: '/api/site/getpublishingprofile'}" target="_blank"><img class="work-with-site-tools-img" src="Content/images/DownloadPublishing.png" /><div class="website-template-name">Download publishing profile</div></a>
            </div>
            <div class="work-with-site-tools">
                <a data-bind="attr: {href: monacoUrl}"target="_blank"><img class="work-with-site-tools-img" src="Content/images/delete.png" /><div class="website-template-name">Delete the site</div></a>
            </div>
        </div>
        <!-- /ko -->
        <!-- ko if: siteJson() === undefined -->
        <div>
            <div class="work-with-site-tools">
                <a><img class="work-with-site-tools-img" src="Content/images/VSO.png" /><div class="website-template-name">Edit with VSO</div></a>
            </div>
            <div class="work-with-site-tools">
                <a><img class="work-with-site-tools-img" src="Content/images/DownloadSite.png" /><div class="website-template-name">Download site content</div></a>
            </div>
            <div class="work-with-site-tools">
                <a><img class="work-with-site-tools-img" src="Content/images/DownloadPublishing.png" /><div class="website-template-name">Download publishing profile</div></a>
            </div>
            <div class="work-with-site-tools">
                <a><img class="work-with-site-tools-img" src="Content/images/delete.png" /><div class="website-template-name">Delete the site</div></a>
            </div>
            <!--<pre data-bind="text: ko.toJSON(siteJson, null, 2)" style="display: block; width: 90%"></pre>-->
        </div>
        <!-- /ko -->
    </div>

    <div class="wa-content wa-content-4up wa-content-divided">
        <h2>3) Get more for free</h2>
        <h3 style="font-size: 23px;">Create your own website. Sign up for a free 30-day trial and create up to 10 websites for free.</h3>
        <br />
        <a href="http://azure.microsoft.com/en-us/pricing/free-trial/" class="wa-button wa-button-primary">Free trial</a>
    </div>
</section>

<script type="text/javascript" src="//ajax.aspnetcdn.com/ajax/knockout/knockout-3.0.0.js"></script>
<script type="text/javascript" src="/Scripts/site.js"></script>